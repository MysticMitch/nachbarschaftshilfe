<%- include("header") -%>

<h1>Einkaufsliste aufgeben</h1>

<form action=/aufgeben name="eingabe" method="POST">

    <div id="felder">
    <b><label for="Bezeichnung">Produkt</label><br></b>
    <input type="text" name="bezeichnung" required><br><br>
    
    </b><label for="marke">Marke</label><br>
    <input type="text" name="marke"><br><br>
    
    <label for="menge">Menge</label><br>
    <input type="text" name="menge"><br><br>
    
    <label for="kilogramm">Kilogramm</label><br>
    <input type="text" name="kilogramm"><br><br>
    
    <label for="liter">Liter</label><br>
    <input type="text" name="liter"><br><br></div>
    
    <div id="platzhalter1"></div>

    <input type="button" class="btn btn-primary btn-sm" onclick="addProduct()" value="Produkt hinzufügen"></input>
    <input type="button" class="btn btn-primary btn-sm" onclick="removeProduct()" value="Produkt entfernen"></input><br style="line-height: 40px"/>
    <input type="submit" class="btn btn-primary btn-sm" value="Einkaufsliste senden"></input>
    <input type="button" class="btn btn-primary btn-sm" onclick="resetAll()" value="Eingaben löschen"></input>
    </form>

    <script>
        let count = 1;
        let felder = document.getElementById("felder");
        let kopie;

        function addProduct(){
            if(count <= 0){
                count = 1;
            }
            let platzhalterCurrent = "platzhalter"+count;
            let platzhalterNext = "<div id=\""+"platzhalter"+(count+1)+"\"></div>";
            kopie = felder.innerHTML + platzhalterNext;
            document.getElementById(platzhalterCurrent).innerHTML = kopie;
            count++;
        }

        function removeProduct(){
            count--;
            let s = "platzhalter"+count;
            document.getElementById(s).innerHTML = "";
        }

        function resetAll(){
            while(count>1){
            removeProduct();
            }
            for(let i = 0; i < 5; i++){
                document.getElementsByTagName("input")[i].value = "";
            }
             document.body.scrollTop = 0; // For Safari
             document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }
    </script>

<%- include("footer") -%>